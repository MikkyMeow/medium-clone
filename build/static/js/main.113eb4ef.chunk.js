(this.webpackJsonpmedium=this.webpackJsonpmedium||[]).push([[0],{77:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),r=c(32),n=c.n(r),i=c(4),l=c(2),o=c(3),j=c(6),b=c(33),u=c.n(b),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=Object(s.useState)((function(){return localStorage.getItem(e)||t})),a=Object(l.a)(c,2),r=a[0],n=a[1];return Object(s.useEffect)((function(){localStorage.setItem(e,r)}),[e,r]),[r,n]},O=function(e){var t=Object(s.useState)(!1),c=Object(l.a)(t,2),a=c[0],r=c[1],n=Object(s.useState)(null),i=Object(l.a)(n,2),o=i[0],b=i[1],O=Object(s.useState)(null),m=Object(l.a)(O,2),x=m[0],h=m[1],f=Object(s.useState)({}),p=Object(l.a)(f,2),g=p[0],v=p[1],N=d("token"),S=Object(l.a)(N,1)[0],y=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(e),r(!0)}),[]);return Object(s.useEffect)((function(){var t=!1,c=Object(j.a)(Object(j.a)({},g),{headers:{authorization:S?"Token ".concat(S):""}});if(a)return u()("https://conduit.productionready.io/api"+e,c).then((function(e){t||(r(!1),b(e.data))})).catch((function(e){t||(r(!1),h(e.response.data))})),function(){t=!0}}),[a,e,g,S]),[{isLoading:a,response:o,error:x},y]},m=c(16),x=c.n(m),h=c(0),f=function(e){var t=e.isFavorited,c=e.favoritesCount,s=e.articleSlug,a="/articles/".concat(s,"/favorite"),r=O(a),n=Object(l.a)(r,2),i=n[0].response,o=n[1],j=i?i.article.favoritesCount:c,b=i?i.article.favorited:t,u=x()({btn:!0,"btn-sm":!0,"btn-primary":b,"btn-outline-primary":!b});return Object(h.jsxs)("button",{className:u,onClick:function(e){e.preventDefault(),o({method:b?"delete":"post"})},children:[Object(h.jsx)("i",{className:"ion-heart"}),Object(h.jsxs)("span",{children:["\xa0 ",j]})]})},p=function(e){var t=e.tags;return Object(h.jsx)("ul",{className:"tag-list",children:t.map((function(e){return Object(h.jsx)("li",{className:"tag-default tag-pill tag-outline",children:e},e)}))})},g=function(e){var t=e.articles;return Object(h.jsx)("div",{children:t.map((function(e,t){return Object(h.jsxs)("div",{className:"article-preview",children:[Object(h.jsxs)("div",{className:"article-meta",children:[Object(h.jsx)(o.b,{to:"/profiles/".concat(e.author.username),children:Object(h.jsx)("img",{src:e.author.image,alt:""})}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)(o.b,{to:"/profiles/".concat(e.author.username),className:"author",children:e.author.username}),Object(h.jsx)("span",{className:"date",children:e.createdAt})]}),Object(h.jsx)("div",{className:"pull-xs-right",children:Object(h.jsx)(f,{isFavorited:e.favorited,favoritesCount:e.favoritesCount,articleSlug:e.slug})})]}),Object(h.jsxs)(o.b,{to:"articles/".concat(e.slug),className:"preview-link",children:[Object(h.jsx)("h1",{children:e.title}),Object(h.jsx)("p",{children:e.description}),Object(h.jsx)("span",{children:"Read more..."}),Object(h.jsx)(p,{tags:e.tagList})]})]},t)}))})},v=c(35),N=c(11),S=10,y=function(e){var t=Object(N.parse)(e),c=t.page?Number(t.page):1;return{currentPage:c,offset:c*S-S}},E=function(e){var t=e.page,c=e.currentPage,s=e.url,a=x()({"page-item":!0,active:c===t});return Object(h.jsx)("li",{className:a,children:Object(h.jsx)(o.b,{to:"".concat(s,"?page=").concat(t),className:"page-link",children:t})})},C=function(e){var t,c,s=e.total,a=e.limit,r=e.url,n=e.currentPage,i=Math.ceil(s/a),l=(t=1,c=i,Object(v.a)(Array(c).keys()).map((function(e){return e+t})));return Object(h.jsx)("ul",{className:"pagination",children:l.map((function(e){return Object(h.jsx)(E,{page:e,currentPage:n,url:r},e)}))})},k=function(){return Object(h.jsx)("div",{children:"Loading..."})},L=function(){return Object(h.jsx)("div",{children:"Something went wrong"})},w=function(){var e=O("/tags"),t=Object(l.a)(e,2),c=t[0],a=c.response,r=c.isLoading,n=c.error,i=t[1];return Object(s.useEffect)((function(){i()}),[i]),Object(h.jsxs)("div",{className:"sidebar",children:[r&&Object(h.jsx)(k,{}),n&&Object(h.jsx)(L,{}),a&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"Popular Tags"}),Object(h.jsx)("div",{className:"tag-list",children:a.tags.map((function(e){return Object(h.jsx)(o.b,{to:"/tags/".concat(e),className:"tag-default tag-pill",children:e},e)}))})]})]})},U={isLoading:!1,isLoggedIn:null,currentUser:null},I=function(e,t){switch(t.type){case"LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"SET_AUTHORIZED":return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:!0,isLoading:!1,currentUser:t.payload});case"SET_UNAUTHORIZED":return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:!1});case"LOGOUT":return Object(j.a)(Object(j.a)({},U),{},{isLoggedIn:!1});default:return e}},A=Object(s.createContext)(),P=function(e){var t=e.children,c=Object(s.useReducer)(I,U);return Object(h.jsx)(A.Provider,{value:c,children:t})},T=function(e){var t=e.tagName,c=Object(s.useContext)(A),a=Object(l.a)(c,1)[0];return Object(h.jsx)("div",{className:"feed-toggle",children:Object(h.jsxs)("ul",{className:"nav nav-pills outline-active",children:[a.isLoggedIn&&Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.c,{className:"nav-link",to:"/feed",children:"Your feed"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.c,{className:"nav-link",to:"/",exact:!0,children:"Global feed"})}),t&&Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(o.c,{className:"nav-link",to:"/tags/".concat(t),children:[Object(h.jsx)("i",{className:"ion-pound"}),"\xa0",t]})})]})})},D=function(e){var t=e.location,c=e.match,a=y(t.search),r=a.offset,n=a.currentPage,i=Object(N.stringify)({limit:S,offset:r}),o="/articles?".concat(i),j=O(o),b=Object(l.a)(j,2),u=b[0],d=u.response,m=u.isLoading,x=u.error,f=b[1],p=c.url;return Object(s.useEffect)((function(){f()}),[f,n]),Object(h.jsxs)("div",{className:"home-page",children:[Object(h.jsx)("div",{className:"banner",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"Medium Clone"}),Object(h.jsx)("p",{children:"A place to share knowledge"})]})}),Object(h.jsx)("div",{className:"container page",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-9",children:[Object(h.jsx)(T,{}),m&&Object(h.jsx)(k,{}),x&&Object(h.jsx)(L,{}),!m&&d&&Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(g,{articles:d.articles}),Object(h.jsx)(C,{total:d.articlesCount,limit:S,url:p,currentPage:n})]})]}),Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(w,{})})]})})]})},F=function(e){var t=e.match.params.slug,c="/articles/".concat(t),a=O(c),r=Object(l.a)(a,2),n=r[0],j=n.response,b=n.isLoading,u=n.error,d=r[1],m=O(c),x=Object(l.a)(m,2),f=x[0].response,g=x[1],v=Object(s.useContext)(A),N=Object(l.a)(v,1)[0],S=Object(s.useState)(!1),y=Object(l.a)(S,2),E=y[0],C=y[1];return Object(s.useEffect)((function(){d()}),[d]),Object(s.useEffect)((function(){f&&C(!0)}),[f]),E?Object(h.jsx)(i.a,{to:"/"}):Object(h.jsxs)("div",{className:"article-page",children:[Object(h.jsx)("div",{className:"banner",children:!b&&j&&Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:j.article.title}),Object(h.jsxs)("div",{className:"article-meta",children:[Object(h.jsx)(o.b,{to:"/profiles/".concat(j.article.author.username),children:Object(h.jsx)("img",{src:j.article.author.image,alt:""})}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)(o.b,{to:"/profiles/".concat(j.article.author.username),children:j.article.author.username}),Object(h.jsx)("span",{className:"date",children:j.article.createdAt})]}),!(!j||!N.isLoggedIn)&&j.article.author.username===N.currentUser.username&&Object(h.jsxs)("span",{children:[Object(h.jsxs)(o.b,{className:"btn btn-outline-secondary btn-sm",to:"/articles/".concat(j.article.slug,"/edit"),children:[Object(h.jsx)("i",{className:"ion-edit"}),"\xa0Edit Article"]}),Object(h.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){g({method:"delete"})},children:[Object(h.jsx)("i",{className:"ion-trash-a"}),"\xa0Delete Article"]})]})]})]})}),Object(h.jsxs)("div",{className:"container page",children:[b&&Object(h.jsx)(k,{}),u&&Object(h.jsx)(L,{}),!b&&j&&Object(h.jsx)("div",{className:"row article-content",children:Object(h.jsxs)("div",{className:"col-xs-12",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{children:j.article.body})}),Object(h.jsx)(p,{tags:j.article.tagList})]})})]})]})},R=function(e){var t=e.backendErrors,c=Object.keys(t).map((function(e){var c=t[e].join(" ");return"".concat(e," ").concat(c)}));return Object(h.jsx)("ul",{className:"error-messages",children:c.map((function(e){return Object(h.jsx)("li",{children:e},e)}))})},H=function(e){var t="/login"===e.match.path,c=t?"Sign In":"Sign Up",a=t?"/register":"/login",r=t?"Need an account?":"Have an account?",n=t?"/users/login":"/users",j=Object(s.useState)(""),b=Object(l.a)(j,2),u=b[0],m=b[1],x=Object(s.useState)(""),f=Object(l.a)(x,2),p=f[0],g=f[1],v=Object(s.useState)(""),N=Object(l.a)(v,2),S=N[0],y=N[1],E=Object(s.useState)(!1),C=Object(l.a)(E,2),k=C[0],L=C[1],w=O(n),U=Object(l.a)(w,2),I=U[0],P=I.response,T=I.isLoading,D=I.error,F=U[1],H=d("token"),M=Object(l.a)(H,2)[1],Z=Object(s.useContext)(A),_=Object(l.a)(Z,2)[1];return Object(s.useEffect)((function(){P&&(M(P.user.token),L(!0),_({type:"SET_AUTHORIZED",payload:P.user}))}),[P,M,_]),k?Object(h.jsx)(i.a,{to:"/"}):Object(h.jsx)("div",{className:"auth-page",children:Object(h.jsx)("div",{className:"container page",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(h.jsx)("h1",{className:"text-xs-center",children:c}),Object(h.jsx)("p",{className:"text-xs-center",children:Object(h.jsx)(o.b,{to:a,children:r})}),Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),F({method:"post",data:{user:t?{email:u,password:p}:{username:S,email:u,password:p}}})},children:Object(h.jsxs)("fieldset",{children:[D&&Object(h.jsx)(R,{backendErrors:D.errors}),!t&&Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",value:S,onChange:function(e){return y(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"email",className:"form-control form-control-lg",autoComplete:"username",placeholder:"Email",value:u,onChange:function(e){return m(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"password",className:"form-control form-control-lg",autoComplete:"current-password",placeholder:"Password",value:p,onChange:function(e){return g(e.target.value)}})}),Object(h.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:T,children:c})]})})]})})})})},M=function(e){var t=e.location,c=e.match,a=c.params.slug,r=y(t.search),n=r.offset,i=r.currentPage,o=Object(N.stringify)({limit:S,offset:n,tag:a}),j="/articles?".concat(o),b=O(j),u=Object(l.a)(b,2),d=u[0],m=d.response,x=d.isLoading,f=d.error,p=u[1],v=c.url;return Object(s.useEffect)((function(){p()}),[p,i,a]),Object(h.jsxs)("div",{className:"home-page",children:[Object(h.jsx)("div",{className:"banner",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"Medium Clone"}),Object(h.jsx)("p",{children:"A place to share knowledge"})]})}),Object(h.jsx)("div",{className:"container page",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-9",children:[Object(h.jsx)(T,{tagName:a}),x&&Object(h.jsx)(k,{}),f&&Object(h.jsx)(L,{}),!x&&m&&Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(g,{articles:m.articles}),Object(h.jsx)(C,{total:m.articlesCount,limit:S,url:v,currentPage:i})]})]}),Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(w,{})})]})})]})},Z=function(e){var t=e.location,c=e.match,a=y(t.search),r=a.offset,n=a.currentPage,i=Object(N.stringify)({limit:S,offset:r}),o="/articles/feed?".concat(i),j=O(o),b=Object(l.a)(j,2),u=b[0],d=u.response,m=u.isLoading,x=u.error,f=b[1],p=c.url;return Object(s.useEffect)((function(){f()}),[f,n]),Object(h.jsxs)("div",{className:"home-page",children:[Object(h.jsx)("div",{className:"banner",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"Medium Clone"}),Object(h.jsx)("p",{children:"A place to share knowledge"})]})}),Object(h.jsx)("div",{className:"container page",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-9",children:[Object(h.jsx)(T,{}),m&&Object(h.jsx)(k,{}),x&&Object(h.jsx)(L,{}),!m&&d&&Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(g,{articles:d.articles}),Object(h.jsx)(C,{total:d.articlesCount,limit:S,url:p,currentPage:n})]})]}),Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(w,{})})]})})]})},_=function(e){var t=e.onSubmit,c=e.errors,a=e.initialValues,r=Object(s.useState)(""),n=Object(l.a)(r,2),i=n[0],o=n[1],j=Object(s.useState)(""),b=Object(l.a)(j,2),u=b[0],d=b[1],O=Object(s.useState)(""),m=Object(l.a)(O,2),x=m[0],f=m[1],p=Object(s.useState)(""),g=Object(l.a)(p,2),v=g[0],N=g[1];return Object(s.useEffect)((function(){a&&(o(a.title),d(a.description),f(a.body),N(a.tagList.join(", ")))}),[a]),Object(h.jsx)("div",{className:"editor-page",children:Object(h.jsx)("div",{className:"container page",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:[c&&Object(h.jsx)(R,{backendErrors:c}),Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),t({title:i,description:u,body:x,tagList:v})},children:Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article title",value:i,onChange:function(e){return o(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"What Is This Article About?",value:u,onChange:function(e){return d(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("textarea",{rows:"8",className:"form-control form-control-lg",placeholder:"Write Your Article (in markdown)",value:x,onChange:function(e){return f(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Text",value:v,onChange:function(e){return N(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-lg pull-xs-right btn-primary",children:"Publish Article"})})]})})]})})})})},G=function(){var e=O("/articles"),t=Object(l.a)(e,2),c=t[0],a=c.response,r=c.error,n=t[1],o=Object(s.useContext)(A),j=Object(l.a)(o,1)[0],b=Object(s.useState)(!1),u=Object(l.a)(b,2),d=u[0],m=u[1];return Object(s.useEffect)((function(){a&&m(!0)}),[a,m]),d?Object(h.jsx)(i.a,{to:"/articles/".concat(a.article.slug)}):!1===j.isLoggedIn?Object(h.jsx)(i.a,{to:"/"}):Object(h.jsx)("div",{children:Object(h.jsx)(_,{errors:r&&r.errors||{},initialValues:{title:"",description:"",body:"",tagList:[]},onSubmit:function(e){n({method:"post",data:{article:e}})}})})},V=function(e){var t=e.match.params.slug,c="/articles/".concat(t),a=O(c),r=Object(l.a)(a,2),n=r[0].response,o=r[1],j=O(c),b=Object(l.a)(j,2),u=b[0],d=u.response,m=u.error,x=b[1],f=Object(s.useState)(null),p=Object(l.a)(f,2),g=p[0],v=p[1],N=Object(s.useState)(!1),S=Object(l.a)(N,2),y=S[0],E=S[1],C=Object(s.useContext)(A),k=Object(l.a)(C,1)[0];return Object(s.useEffect)((function(){o()}),[o]),Object(s.useEffect)((function(){n&&v({title:n.article.title,description:n.article.description,body:n.article.body,tagList:n.article.tagList})}),[n]),Object(s.useEffect)((function(){d&&E(!0)}),[d]),!1===k.isLoggedIn?Object(h.jsx)(i.a,{to:"/"}):y?Object(h.jsx)(i.a,{to:"/articles/".concat(t)}):Object(h.jsx)(_,{onSubmit:function(e){x({method:"put",data:{article:e}})},errors:m&&m.errors||{},initialValues:g})},Y=function(){var e=Object(s.useContext)(A),t=Object(l.a)(e,2),c=t[0],a=t[1],r=O("/user"),n=Object(l.a)(r,2),o=n[0],b=o.response,u=o.error,m=n[1],x=Object(s.useState)(""),f=Object(l.a)(x,2),p=f[0],g=f[1],v=Object(s.useState)(""),N=Object(l.a)(v,2),S=N[0],y=N[1],E=Object(s.useState)(""),C=Object(l.a)(E,2),k=C[0],L=C[1],w=Object(s.useState)(""),U=Object(l.a)(w,2),I=U[0],P=U[1],T=Object(s.useState)(""),D=Object(l.a)(T,2),F=D[0],H=D[1],M=d("token"),Z=Object(l.a)(M,2)[1],_=Object(s.useState)(!1),G=Object(l.a)(_,2),V=G[0],Y=G[1];return Object(s.useEffect)((function(){c.currentUser&&(g(c.currentUser.image),y(c.currentUser.username),L(c.currentUser.bio),P(c.currentUser.email))}),[c.currentUser]),Object(s.useEffect)((function(){b&&a({type:"SET_AUTHORIZED",payload:b.user})}),[b,a]),V?Object(h.jsx)(i.a,{to:"/"}):Object(h.jsx)("div",{className:"settings-page",children:Object(h.jsx)("div",{className:"container page",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(h.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),u&&Object(h.jsx)(R,{backendErrors:u.errors}),Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),m({method:"put",data:Object(j.a)(Object(j.a)({},c.currentUser),{},{image:p,username:S,bio:k,email:I,password:F})})},children:Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"URL of profile picture",value:p,onChange:function(e){return g(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",value:S,onChange:function(e){return y(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("textarea",{className:"form-control form-control-lg",rows:8,placeholder:"Short Bio",value:k,onChange:function(e){return L(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"email",className:"form-control form-control-lg",placeholder:"Email",value:I,onChange:function(e){return P(e.target.value)}})}),Object(h.jsx)("fieldset",{className:"form-group",children:Object(h.jsx)("input",{type:"password ",className:"form-control form-control-lg",placeholder:"Password",value:F,onChange:function(e){return H(e.target.value)}})}),Object(h.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary pull-xs-right",children:"Update Settings"})]})}),Object(h.jsx)("hr",{}),Object(h.jsx)("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),Z(""),a({type:"LOGOUT"}),Y(!0)},children:"Or click here to logout"})]})})})})},B=function(e){var t=e.username,c=e.location,a=e.isFavorites,r=e.url,n=y(c.search),i=n.offset,o=n.currentPage,j=function(e){var t=e.username,c=e.offset,s=e.isFavorites?{limit:S,offset:c,favorited:t}:{limit:S,offset:c,author:t};return"/articles/?".concat(Object(N.stringify)(s))}({username:t,offset:i,isFavorites:a}),b=O(j),u=Object(l.a)(b,2),d=u[0],m=d.response,x=d.isLoading,f=d.error,p=u[1];return Object(s.useEffect)((function(){p()}),[p,a]),Object(h.jsxs)("div",{children:[x&&Object(h.jsx)(k,{}),f&&Object(h.jsx)(L,{}),!x&&m&&Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(g,{articles:m.articles}),Object(h.jsx)(C,{total:m.articlesCount,limit:S,url:r,currentPage:o})]})]})},J=function(e){var t=e.location,c=e.match,a=c.params.slug,r=t.pathname.includes("favorites"),n="/profiles/".concat(a),i=O(n),j=Object(l.a)(i,2),b=j[0].response,u=j[1];return Object(s.useEffect)((function(){u()}),[u]),b?Object(h.jsxs)("div",{className:"profile-page",children:[Object(h.jsx)("div",{className:"user-info",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(h.jsx)("img",{src:b.profile.image,alt:"",className:"user-img"}),Object(h.jsx)("h4",{children:b.profile.username}),Object(h.jsx)("p",{children:b.profile.bio})]})})})}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(h.jsx)("div",{className:"articles-toggle",children:Object(h.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.c,{className:"nav-link",to:"/profiles/".concat(b.profile.username),exact:!0,children:"My posts"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.c,{className:"nav-link",to:"/profiles/".concat(b.profile.username,"/favorites"),children:"Favorites posts"})})]})}),Object(h.jsx)(B,{username:b.profile.username,location:t,isFavorites:r,url:c.url})]})})})]}):null},W=function(){return Object(h.jsxs)(i.d,{children:[Object(h.jsx)(i.b,{path:"/",component:D,exact:!0}),Object(h.jsx)(i.b,{path:"/profiles/:slug",component:J}),Object(h.jsx)(i.b,{path:"/profiles/:slug/favorites",component:J}),Object(h.jsx)(i.b,{path:"/settings",component:Y}),Object(h.jsx)(i.b,{path:"/articles/:slug/edit",component:V}),Object(h.jsx)(i.b,{path:"/articles/new",component:G}),Object(h.jsx)(i.b,{path:"/feed",component:Z}),Object(h.jsx)(i.b,{path:"/tags/:slug",component:M}),Object(h.jsx)(i.b,{path:"/articles/:slug",component:F}),Object(h.jsx)(i.b,{path:"/login",component:H}),Object(h.jsx)(i.b,{parh:"/register",component:H})]})},z=function(){var e=Object(s.useContext)(A),t=Object(l.a)(e,1)[0];return Object(h.jsx)("nav",{className:"navbar navbar-light",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(o.b,{to:"/",className:"navbar-brand",children:"Medium"}),Object(h.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.c,{to:"/",className:"nav-link",exact:!0,children:"Home"})}),t.isLoggedIn&&Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(o.c,{to:"/articles/new",className:"nav-link",children:[Object(h.jsx)("i",{className:"ion-compose"}),"\xa0 New Post"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(o.c,{to:"/settings",className:"nav-link",children:[Object(h.jsx)("i",{className:"ion-gear-a"}),"\xa0 Settings"]})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsxs)(o.c,{to:"/profiles/".concat(t.currentUser.username),className:"nav-link",children:[Object(h.jsx)("img",{className:"user-pic",src:t.currentUser.image,alt:""}),"\xa0 ",t.currentUser.username]})})]}),!1===t.isLoggedIn&&Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.c,{to:"/login",className:"nav-link",children:"Sign In"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.c,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]})]})})},q=function(e){var t=e.children,c=Object(s.useContext)(A),a=Object(l.a)(c,2)[1],r=O("/user"),n=Object(l.a)(r,2),i=n[0].response,o=n[1],j=d("token"),b=Object(l.a)(j,1)[0];return Object(s.useEffect)((function(){b?(o(),a({type:"LOADING"})):a({type:"SET_UNAUTHORIZED"})}),[b,a,o]),Object(s.useEffect)((function(){i&&a({type:"SET_AUTHORIZED",payload:i.user})}),[i,a]),t},K=function(){return Object(h.jsx)(P,{children:Object(h.jsx)(q,{children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(z,{}),Object(h.jsx)(W,{})]})})})};n.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(K,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.113eb4ef.chunk.js.map